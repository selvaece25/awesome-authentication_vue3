{"remainingRequest":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/babel-loader/lib/index.js!/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/eslint-loader/index.js??ref--13-0!/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/src/_helpers/jwt-interceptor.js","dependencies":[{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/src/_helpers/jwt-interceptor.js","mtime":1629564910866},{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1616999590189},{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/babel-loader/lib/index.js","mtime":1616999590196},{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/eslint-loader/index.js","mtime":1616999591448}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgYWNjb3VudFNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2UnOwpleHBvcnQgZnVuY3Rpb24gand0SW50ZXJjZXB0b3IoKSB7CiAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChyZXF1ZXN0KSB7CiAgICB2YXIgdG9rZW5EZXRhaWwgPSBhY2NvdW50U2VydmljZS50b2tlbjsKICAgIHZhciBpc0FwaVVybCA9IHJlcXVlc3QudXJsLnN0YXJ0c1dpdGgocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMKTsKCiAgICBpZiAodG9rZW5EZXRhaWwgJiYgaXNBcGlVcmwpIHsKICAgICAgcmVxdWVzdC5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbkRldGFpbCk7CiAgICB9CgogICAgcmV0dXJuIHJlcXVlc3Q7CiAgfSk7Cn0="},{"version":3,"sources":["/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/src/_helpers/jwt-interceptor.js"],"names":["axios","accountService","jwtInterceptor","interceptors","request","use","tokenDetail","token","isApiUrl","url","startsWith","process","env","VUE_APP_API_URL","headers","common","Authorization"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,WAA/B;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC7BF,EAAAA,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAD,OAAO,EAAI;AACtC,QAAME,WAAW,GAAGL,cAAc,CAACM,KAAnC;AACA,QAAMC,QAAQ,GAAGJ,OAAO,CAACK,GAAR,CAAYC,UAAZ,CAAuBC,OAAO,CAACC,GAAR,CAAYC,eAAnC,CAAjB;;AAEA,QAAIP,WAAW,IAAIE,QAAnB,EAA6B;AACzBJ,MAAAA,OAAO,CAACU,OAAR,CAAgBC,MAAhB,CAAuBC,aAAvB,oBAAiDV,WAAjD;AACH;;AAED,WAAOF,OAAP;AACH,GATD;AAUH","sourcesContent":["import axios from 'axios';\nimport { accountService } from '@/service';\n\nexport function jwtInterceptor() {\n    axios.interceptors.request.use(request => {\n        const tokenDetail = accountService.token;\n        const isApiUrl = request.url.startsWith(process.env.VUE_APP_API_URL);\n\n        if (tokenDetail && isApiUrl) {\n            request.headers.common.Authorization = `Bearer ${tokenDetail}`;\n        }\n\n        return request;\n    });\n}"]}]}