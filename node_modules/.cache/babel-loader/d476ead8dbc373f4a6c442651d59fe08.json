{"remainingRequest":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/babel-loader/lib/index.js!/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/eslint-loader/index.js??ref--13-0!/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/src/service.js","dependencies":[{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/src/service.js","mtime":1629571212899},{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1616999590189},{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/babel-loader/lib/index.js","mtime":1616999590196},{"path":"/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/node_modules/eslint-loader/index.js","mtime":1616999591448}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NlbHZha3VtYXIvRG9jdW1lbnRzL3BlcnNvbmFsLm5vc3luYy9hd2Vzb21lLWF1dGhlbnRpY2F0aW9uX3Z1ZTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NlbHZha3VtYXIvRG9jdW1lbnRzL3BlcnNvbmFsLm5vc3luYy9hd2Vzb21lLWF1dGhlbnRpY2F0aW9uX3Z1ZTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IHJvdXRlciB9IGZyb20gJ0Avcm91dGVzJzsKaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSAnQC9faGVscGVycy9lcnJvci1oYW5kbGUtcmVzcG9uc2UnOwp2YXIgYmFzZVVybCA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYXBpLyIpOwpleHBvcnQgdmFyIGFjY291bnRTZXJ2aWNlID0gewogIGxvZ2luOiBsb2dpbiwKICBsb2dvdXQ6IGxvZ291dCwKICBwcm9maWxlU3dpdGNoOiBwcm9maWxlU3dpdGNoLAogIGdldFVzZXJEZXRhaWxzOiBnZXRVc2VyRGV0YWlscywKICBpc0xvZ2dlZEluOiBpc0xvZ2dlZEluLAogIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpCn07CgpmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogIHZhciBoYXNUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykgPyB0cnVlIDogZmFsc2U7CiAgcmV0dXJuIGhhc1Rva2VuOwp9CgpmdW5jdGlvbiBsb2dpbihfeCkgewogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvZ2luKCkgewogIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICB2YXIgZW1haWwsIHBhc3N3b3JkLCBfRXJyb3JIYW5kbGVyMiwgZXJyTWVzc2FnZSwgX0Vycm9ySGFuZGxlcjIkY29kZSwgY29kZTsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGVtYWlsID0gX3JlZi5lbWFpbCwgcGFzc3dvcmQgPSBfcmVmLnBhc3N3b3JkOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChiYXNlVXJsLCAibG9naW4iKSwgewogICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICB2YXIgX3Jlc3BvbnNlJGRhdGEgPSByZXNwb25zZS5kYXRhLAogICAgICAgICAgICAgICAgICBwcm9maWxlcyA9IF9yZXNwb25zZSRkYXRhLnByb2ZpbGVzLAogICAgICAgICAgICAgICAgICB0b2tlbiA9IF9yZXNwb25zZSRkYXRhLnRva2VuLAogICAgICAgICAgICAgICAgICB1c2VyID0gX3Jlc3BvbnNlJGRhdGEudXNlcjsKICAgICAgICAgICAgICB2YXIgaGFzWmVyb1Byb2ZpbGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVzICYmIHByb2ZpbGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgc2F2ZU9uTG9jYWwodG9rZW4pOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9hY2NvdW50Jyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9maWxlcyAmJiBwcm9maWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGhhc1plcm9Qcm9maWxlID0gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBlbWFpbF9pZCA9IHVzZXIgJiYgdXNlci51c2VybmFtZSB8fCBudWxsOwogICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlc3BvbnNlLmRhdGEpLCB7fSwgewogICAgICAgICAgICAgICAgaGFzWmVyb1Byb2ZpbGU6IGhhc1plcm9Qcm9maWxlLAogICAgICAgICAgICAgICAgZW1haWxfaWQ6IGVtYWlsX2lkCiAgICAgICAgICAgICAgfSkgfHwge307CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQuc2VudCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgX0Vycm9ySGFuZGxlcjIgPSBFcnJvckhhbmRsZXIoX2NvbnRleHQudDAucmVzcG9uc2UgfHwgX2NvbnRleHQudDApLCBlcnJNZXNzYWdlID0gX0Vycm9ySGFuZGxlcjIuZXJyTWVzc2FnZSwgX0Vycm9ySGFuZGxlcjIkY29kZSA9IF9FcnJvckhhbmRsZXIyLmNvZGUsIGNvZGUgPSBfRXJyb3JIYW5kbGVyMiRjb2RlID09PSB2b2lkIDAgPyAnJyA6IF9FcnJvckhhbmRsZXIyJGNvZGU7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBoYXNFcnJvcjogdHJ1ZSwKICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNZXNzYWdlLAogICAgICAgICAgICAgIGNvZGU6IGNvZGUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDddXSk7CiAgfSkpOwogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0VXNlckRldGFpbHMoKSB7CiAgdHJ5IHsKICAgIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KGJhc2VVcmwsICJ1c2VyL2RldGFpbHMiKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgdmFyIF9FcnJvckhhbmRsZXIgPSBFcnJvckhhbmRsZXIoZXJyb3IucmVzcG9uc2UgfHwgZXJyb3IpLAogICAgICAgIGVyck1lc3NhZ2UgPSBfRXJyb3JIYW5kbGVyLmVyck1lc3NhZ2UsCiAgICAgICAgX0Vycm9ySGFuZGxlciRjb2RlID0gX0Vycm9ySGFuZGxlci5jb2RlLAogICAgICAgIGNvZGUgPSBfRXJyb3JIYW5kbGVyJGNvZGUgPT09IHZvaWQgMCA/ICcnIDogX0Vycm9ySGFuZGxlciRjb2RlOwoKICAgIHJldHVybiB7CiAgICAgIGhhc0Vycm9yOiB0cnVlLAogICAgICBtZXNzYWdlOiBlcnJNZXNzYWdlLAogICAgICBjb2RlOiBjb2RlCiAgICB9OwogIH0KfQoKZnVuY3Rpb24gcHJvZmlsZVN3aXRjaChfeDIsIF94MykgewogIHJldHVybiBfcHJvZmlsZVN3aXRjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfcHJvZmlsZVN3aXRjaCgpIHsKICBfcHJvZmlsZVN3aXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZW1haWxfaWQsIGlkKSB7CiAgICB2YXIgX0Vycm9ySGFuZGxlcjMsIGVyck1lc3NhZ2UsIF9FcnJvckhhbmRsZXIzJGNvZGUsIGNvZGU7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChiYXNlVXJsLCAidXNlci9zd2l0Y2giKSwgewogICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIGVtYWlsX2lkOiBlbWFpbF9pZCwKICAgICAgICAgICAgICAgIHVzZXJfaWQ6IGlkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CgogICAgICAgICAgICAgIGlmICh0b2tlbikgewogICAgICAgICAgICAgICAgc2F2ZU9uTG9jYWwodG9rZW4pOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9hY2NvdW50Jyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDY7CiAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgX0Vycm9ySGFuZGxlcjMgPSBFcnJvckhhbmRsZXIoX2NvbnRleHQyLnQwLnJlc3BvbnNlIHx8IF9jb250ZXh0Mi50MCksIGVyck1lc3NhZ2UgPSBfRXJyb3JIYW5kbGVyMy5lcnJNZXNzYWdlLCBfRXJyb3JIYW5kbGVyMyRjb2RlID0gX0Vycm9ySGFuZGxlcjMuY29kZSwgY29kZSA9IF9FcnJvckhhbmRsZXIzJGNvZGUgPT09IHZvaWQgMCA/ICcnIDogX0Vycm9ySGFuZGxlcjMkY29kZTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBoYXNFcnJvcjogdHJ1ZSwKICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNZXNzYWdlLAogICAgICAgICAgICAgIGNvZGU6IGNvZGUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgNl1dKTsKICB9KSk7CiAgcmV0dXJuIF9wcm9maWxlU3dpdGNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIHNhdmVPbkxvY2FsKHRva2VuKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh0b2tlbikpOwp9CgpmdW5jdGlvbiBsb2dvdXQoKSB7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICBhY2NvdW50U2VydmljZS5pc0xvZ2dlZEluKCk7CiAgcm91dGVyLnB1c2goJy9sb2dpbicpOwp9"},{"version":3,"sources":["/Users/selvakumar/Documents/personal.nosync/awesome-authentication_vue3/src/service.js"],"names":["axios","router","ErrorHandler","baseUrl","process","env","VUE_APP_API_URL","accountService","login","logout","profileSwitch","getUserDetails","isLoggedIn","token","localStorage","getItem","hasToken","email","password","post","data","then","response","profiles","user","hasZeroProfile","length","saveOnLocal","push","email_id","username","errMessage","code","hasError","message","get","error","id","user_id","setItem","JSON","stringify","removeItem"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport { router } from '@/routes';\nimport { ErrorHandler } from '@/_helpers/error-handle-response';\n\nconst baseUrl = `${process.env.VUE_APP_API_URL}/api/`;\n\nexport const accountService = {\n  login,\n  logout,\n  profileSwitch,\n  getUserDetails,\n  isLoggedIn,\n  token: localStorage.getItem('user'),\n};\n\nfunction isLoggedIn() {\n  const hasToken = localStorage.getItem('user') ? true : false;\n  return hasToken;\n}\n\nasync function login({ email, password }) {\n  try {\n    return await axios\n      .post(`${baseUrl}login`, { data: { email, password } })\n      .then((response) => {\n        const { profiles, token, user } = response.data;\n        let hasZeroProfile = false;\n        if (profiles && profiles.length === 1) {\n          saveOnLocal(token);\n          router.push('/account');\n        } else if (profiles && profiles.length === 0) {\n          hasZeroProfile = true;\n        }\n        const email_id = (user && user.username) || null;\n        return { ...response.data, hasZeroProfile, email_id } || {};\n      });\n  } catch (error) {\n    const { errMessage, code = '' } = ErrorHandler(error.response || error);\n    return { hasError: true, message: errMessage, code };\n  }\n}\n\nfunction getUserDetails() {\n  try {\n    return axios\n      .get(`${baseUrl}user/details`)\n      .then((response) => response.data);\n  } catch (error) {\n    const { errMessage, code = '' } = ErrorHandler(error.response || error);\n    return { hasError: true, message: errMessage, code };\n  }\n}\n\nasync function profileSwitch(email_id, id) {\n  try {\n    return await axios\n      .post(`${baseUrl}user/switch`, { data: { email_id, user_id: id } })\n      .then((response) => {\n        const { token } = response.data;\n        if (token) {\n          saveOnLocal(token);\n          router.push('/account');\n        }\n      });\n  } catch (error) {\n    const { errMessage, code = '' } = ErrorHandler(error.response || error);\n    return { hasError: true, message: errMessage, code };\n  }\n}\n\nfunction saveOnLocal(token) {\n  localStorage.setItem('user', JSON.stringify(token));\n}\n\nfunction logout() {\n  localStorage.removeItem('user');\n  accountService.isLoggedIn();\n  router.push('/login');\n}\n"]}]}